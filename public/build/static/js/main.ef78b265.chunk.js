(this["webpackJsonptodolist-frontend"]=this["webpackJsonptodolist-frontend"]||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},22:function(e,t,n){},23:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),c=n.n(a),i=(n(22),n(23),n(9)),u=n(1),d=n.n(u),s=n(3);var p=n(4);var l=n(16);var f=function(e){var t=e.addTodo,n=e.currentMaxId,a=Object(r.useState)(""),c=Object(l.a)(a,2),i=c[0],u=c[1];return o.a.createElement("div",{className:"input-area"},o.a.createElement("input",{type:"text",value:i,onChange:function(e){return u(e.target.value)}}),o.a.createElement("button",{className:"button-text",type:"submit",onClick:function(){i.length<=3?alert("Inputed value must be longer than 3 characters!"):(t({id:n+1,text:i,done:!1}),u(""))}}," ADD"))},O=n(8);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=function(e){var t=e.todo,n=e.updateTodo,r=e.deleteTodo;return o.a.createElement("div",{className:"todo-item"},o.a.createElement("span",null,t.text),o.a.createElement("div",{className:"item-actions"},o.a.createElement("button",{id:t.id,className:"delete-button",onClick:function(e){return r(parseInt(e.target.id))}}),o.a.createElement("input",{className:"",type:"checkbox",checked:t.done,onChange:function(e){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{done:e.target.checked}))}})))};var b=Object(i.b)((function(e){return{todos:e.todos,currentMaxId:e.currentMaxId}}),(function(e){return{getTodos:function(){e(function(){var e=Object(s.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_TODOS_START"}),e.next=3,fetch("/todos",{headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t({type:"GET_TODOS_SUCCESS",data:r,currentMaxId:Math.max.apply(Math,Object(p.a)(r.map((function(e){return e.id}))))});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteTodoById:function(t){e(function(e){return function(){var t=Object(s.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"DELETE_TODO_START"}),t.next=3,fetch("/todos/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:n({type:"DELETE_TODO_SUCCESS",id:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},addTodo:function(t){var n;e((n=t,function(){var e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ADD_TODO_START"}),e.next=3,fetch("/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:t({type:"ADD_TODO_SUCCESS",newTodo:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},updateTodo:function(t){var n;e((n=t,function(){var e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_TODO_START"}),e.next=3,fetch("/todos/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:t({type:"UPDATE_TODO_SUCCESS",updateNeeded:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}}))((function(e){var t=e.todos,n=e.currentMaxId,a=e.addTodo,c=e.getTodos,i=e.deleteTodoById,u=e.updateTodo;return Object(r.useEffect)(c,[]),o.a.createElement("div",{className:"todolist"},o.a.createElement("div",{className:"heading"},"TODOS"),o.a.createElement(f,{currentMaxId:n,addTodo:a}),o.a.createElement("div",{className:"details"},t.map((function(e){return o.a.createElement(y,{key:e.id,id:e.id,todo:e,deleteTodo:i,updateTodo:u})}))))}));var E=function(){return o.a.createElement(b,null)},m=n(6),v=n(15);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={todos:[],currentMaxId:0,updating:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;if("GET_TODOS_START"===t.type)return S({},e,{updating:!0});if("GET_TODOS_SUCCESS"===t.type)return S({},e,{todos:Object(p.a)(t.data),currentMaxId:t.currentMaxId,updating:!1});if("ADD_TODO_START"===t.type)return S({},e,{updating:!0});if("ADD_TODO_SUCCESS"===t.type)return{todos:[].concat(Object(p.a)(e.todos),[t.newTodo]),updating:!1,currentMaxId:t.newTodo.id};if("UPDATE_TODO_START"===t.type)return S({},e,{updating:!0});if("UPDATE_TODO_SUCCESS"===t.type){var n=Object(p.a)(e.todos),r=t.updateNeeded,o=r.id,a=r.text,c=r.done,i=!0,u=!1,d=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value;f.id===o&&(f.text=a,f.done=c)}}catch(O){u=!0,d=O}finally{try{i||null==l.return||l.return()}finally{if(u)throw d}}return S({},e,{updating:!1,todos:Object(p.a)(n)})}return"DELETE_TODO_START"===t.type?S({},e,{updating:!0}):"DELETE_TODO_SUCCESS"===t.type?S({},e,{updating:!1,todos:e.todos.filter((function(e){return e.id!==t.id}))}):e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=Object(m.c)(g,Object(m.a)(v.a));c.a.render(o.a.createElement(i.a,{store:j},o.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.ef78b265.chunk.js.map